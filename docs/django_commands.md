# Полезные команды Django с подробным описанием

Вот 10 наиболее часто используемых команд Django, их подробное описание, примеры и рекомендации по использованию.

---

## **1. `runserver`**

```bash
python manage.py runserver
```

- **Что делает:**  
  Запускает встроенный сервер разработки, чтобы тестировать проект локально. По умолчанию сервер работает на [http://127.0.0.1:8000](http://127.0.0.1:8000).

- **Использование:**  
  - Если вы хотите протестировать свой проект.
  - Если вы работаете над новой функциональностью и хотите быстро проверить изменения.

- **Параметры:**
  - Изменить порт сервера (например, порт 8080):  
    ```bash
    python manage.py runserver 8080
    ```
  - Указать IP-адрес (например, чтобы сделать сервер доступным из локальной сети):  
    ```bash
    python manage.py runserver 0.0.0.0:8000
    ```

---

## **2. `migrate`**

```bash
python manage.py migrate
```

- **Что делает:**  
  Применяет миграции к базе данных, создавая или изменяя таблицы согласно моделям в проекте.

- **Использование:**  
  - После создания или изменения моделей в `models.py`.
  - При настройке новой базы данных для существующего проекта.

- **Преимущества:**  
  - Обеспечивает синхронизацию базы данных с вашим кодом.
  - Удобен для работы в команде, где изменения в моделях передаются через миграции.

---

## **3. `makemigrations`**

```bash
python manage.py makemigrations
```

- **Что делает:**  
  Генерирует файлы миграций на основе изменений в моделях.

- **Использование:**  
  - После внесения изменений в модели (например, добавления нового поля или таблицы).
  - Чтобы проверить, какие миграции будут созданы.

- **Пример:**
  - Если вы добавили поле `age` в модель `User`:
    ```python
    class User(models.Model):
        name = models.CharField(max_length=100)
        age = models.IntegerField(default=0)
    ```
    После выполнения команды `makemigrations` будет создана миграция, добавляющая новое поле в таблицу.

---

## **4. `createsuperuser`**

```bash
python manage.py createsuperuser
```

- **Что делает:**  
  Создает суперпользователя с доступом к панели администратора Django.

- **Использование:**  
  - Когда вам нужен пользователь с полными правами для управления проектом через [админ-панель](http://127.0.0.1:8000/admin).

- **Пример:**
  При выполнении команды вас попросят ввести:
  - Имя пользователя.
  - Email (необязательно).
  - Пароль.

---

## **5. `shell`**

```bash
python manage.py shell
```

- **Что делает:**  
  Открывает интерактивную оболочку Python с доступом ко всем компонентам проекта.

- **Использование:**  
  - Для работы с моделями, тестирования методов или выполнения небольших задач без создания отдельных скриптов.

- **Пример:**
  Получение всех записей из модели `Product`:
  ```python
  from apps.shop.models import Product
  products = Product.objects.all()
  print(products)
  ```

---

## **6. `showmigrations`**

```bash
python manage.py showmigrations
```

- **Что делает:**  
  Показывает список всех миграций в проекте и их статус (применены или нет).

- **Использование:**  
  - Чтобы проверить, какие миграции уже применены.
  - Для диагностики проблем с миграциями.

- **Пример:**
  Вывод команды может выглядеть так:
  ```
  admin
   [X] 0001_initial
   [X] 0002_auto_20230101_1234
  shop
   [ ] 0001_initial
  ```

---

## **7. `collectstatic`**

```bash
python manage.py collectstatic
```

- **Что делает:**  
  Копирует все статические файлы из приложений в одну общую папку (`STATIC_ROOT`).

- **Использование:**  
  - При подготовке проекта к продакшену.
  - Когда нужно, чтобы сервер обслуживал статические файлы.

- **Пример:**
  После настройки `STATIC_ROOT` в `settings.py`:
  ```python
  STATIC_ROOT = BASE_DIR / "staticfiles"
  ```
  Все файлы будут собраны в папку `staticfiles`.

---

## **8. `flush`**

```bash
python manage.py flush
```

- **Что делает:**  
  Удаляет все данные из базы данных, оставляя структуру таблиц.

- **Использование:**  
  - Когда нужно сбросить базу данных в процессе разработки.
  - При тестировании приложения с пустой базой данных.

- **Важное примечание:**  
  Команда не удаляет саму базу данных, только данные внутри.

---

## **9. `test`**

```bash
python manage.py test
```

- **Что делает:**  
  Запускает тесты, написанные для вашего проекта.

- **Использование:**  
  - Для проверки работоспособности кода.
  - При разработке, чтобы убедиться, что изменения не нарушили существующий функционал.

- **Пример теста:**
  ```python
  from django.test import TestCase
  from apps.shop.models import Product

  class ProductTestCase(TestCase):
      def test_product_creation(self):
          product = Product.objects.create(name="Test Product", price=10.99)
          self.assertEqual(product.price, 10.99)
  ```

---

## **10. `loaddata`**

```bash
python manage.py loaddata <file.json>
```

- **Что делает:**  
  Загружает фикстуры (предустановленные данные) в базу данных.

- **Использование:**  
  - Для загрузки стартовых данных, например, категорий или тестовых пользователей.
  - При работе в команде, чтобы у всех разработчиков были одинаковые данные.

- **Пример фикстуры (`file.json`):**
  ```json
  [
      {
          "model": "shop.product",
          "pk": 1,
          "fields": {
              "name": "Test Product",
              "price": 10.99
          }
      }
  ]
  ```

---